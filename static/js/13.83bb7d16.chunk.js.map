{"version":3,"sources":["hooks/use-user.js","assets/newPost.png","components/Header.js","components/profile/ProfileHeader.js","assets/plus-sign.png","components/profile/Photos.js","components/profile/Follows.js","components/profile/UserProfile.js","hooks/use-following.js","hooks/use-followers.js","pages/Profile.js"],"names":["useUser","useState","activeUser","setActiveUser","user","useContext","UserContext","useEffect","a","getUserByUserId","uid","response","getUserObjByUserId","userInfo","Header","firebase","FirebaseContext","history","useHistory","className","to","ROUTES","src","logo","alt","pathname","state","type","newPostIcon","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","title","onClick","auth","signOut","onKeyDown","e","key","push","username","avatar","ProfileHeader","photosCount","followerCount","setFollowerCount","handleShowFollowers","handleShowFollowing","handleShowPhotos","profile","profileDocId","docId","profileUserId","userId","fullName","following","followers","profileUsername","isFollowingProfile","setIsFollowingProfile","deletePostButton","setDeletePostButton","activeBtnFollow","loggedInUsersProfile","handleToggleFollow","toggleFollow","isLoggedInUserFollowingProfile","isUserFollowingProfile","isFollowing","style","position","left","deleteProfile","setTimeout","undefined","count","width","height","length","Photos","photos","map","photo","imageSrc","caption","fillRule","clipRule","likes","comments","Followers","follows","UserProfile","showPhotos","setShowPhotos","showFollowers","setShowFollowers","showFollowing","setShowFollowing","setFollowing","followingArray","getFollowingOrFollowers","fetchFollowing","useFollowing","setFollowers","followersArray","fetchFollowers","useFollowers","useReducer","newState","photosCollection","dispatch","getUserPhotosByUsername","followersCount","sort","b","dateCreated","getProfileInfoAndPhotos","Profile","useParams","setUser","getUserByUsername","doesUserExist","document","checkUserExists"],"mappings":"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","file":"static/js/13.83bb7d16.chunk.js","sourcesContent":["import { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../context/user\";\r\nimport { getUserByUserId } from \"../services/firebase\";\r\n\r\nexport default function useUser() {\r\n  const [activeUser, setActiveUser] = useState({});\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    async function getUserObjByUserId() {\r\n      const [response] = await getUserByUserId(user.uid);\r\n      setActiveUser(response);\r\n    }\r\n\r\n    if (user?.uid) {\r\n      getUserObjByUserId();\r\n    }\r\n  }, [user]);\r\n\r\n  // returns userInfo variable, cannot return user variable as that is used in userContext\r\n  return { userInfo: activeUser };\r\n}\r\n","export default __webpack_public_path__ + \"static/media/newPost.84a497c2.png\";","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport FirebaseContext from \"../context/firebase\";\r\nimport UserContext from \"../context/user\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport useUser from \"../hooks/use-user\";\r\nimport newPostIcon from \"../assets/newPost.png\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\";\r\n\r\nexport default function Header() {\r\n  const { firebase } = useContext(FirebaseContext);\r\n  const { user } = useContext(UserContext);\r\n  const { userInfo } = useUser();\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <header className=\"h-16 bg-white border-b border-gray-primary sticky top-0 z-50\">\r\n      <div className=\"container mx-auto max-w-screen-lg h-full\">\r\n        <div className=\"flex justify-between h-full pr-5 pl-5\">\r\n          <div className=\"text-gray-700 text-center flex  items-center align-items cursor-pointer\">\r\n            <h1 className=\"flex justify-center w-full\">\r\n              <Link to={ROUTES.DASHBOARD} aria-label=\"instagram header\">\r\n                <img src={logo} alt=\"instagram header\" className=\"mt-2 w-28\" />\r\n              </Link>\r\n            </h1>\r\n          </div>\r\n          <div className=\"text-gray-700 text-center flex flex-none items-center align-items\">\r\n            {user ? (\r\n              <>\r\n                <Link\r\n                  to={{\r\n                    pathname: `${ROUTES.UPLOAD_POST}`,\r\n                    state: { type: \"post\" },\r\n                  }}\r\n                  aria-label=\"upload post\"\r\n                >\r\n                  <img\r\n                    src={newPostIcon}\r\n                    alt=\"add post\"\r\n                    className=\"w-8 mr-6 cursor-pointer\"\r\n                  />\r\n                </Link>\r\n                <Link to={ROUTES.DASHBOARD} aria-label=\"timeline\">\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n                    />\r\n                    <title>Timeline</title>\r\n                  </svg>\r\n                </Link>\r\n                <button\r\n                  type=\"button\"\r\n                  title=\"Sign-out\"\r\n                  onClick={() => firebase.auth().signOut()}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === \"enter\") {\r\n                      history.push(\"/login\");\r\n                      firebase.auth().signOut();\r\n                    }\r\n                  }}\r\n                >\r\n                  <svg\r\n                    className=\"w-8 mr-6 text-black-light cursor-pointer\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n                <div className=\"flex items-center cursor-pointer\">\r\n                  <Link to={`/p/${userInfo.username}`}>\r\n                    <img\r\n                      title={`${userInfo.username}`}\r\n                      className=\"rounded-full h-8 w-8 flex object-cover\"\r\n                      src={`${userInfo.avatar}`}\r\n                      alt={`${userInfo.username} profile`}\r\n                    />\r\n                  </Link>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link to={ROUTES.LOGIN}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-blue-primary font-bold text-sm rounded text-white w-20 h-8\"\r\n                  >\r\n                    Login\r\n                  </button>\r\n                </Link>\r\n                <Link to={ROUTES.SIGN_UP}>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"bg-white font-bold text-sm rounded text-blue-primary w-20 h-8\"\r\n                  >\r\n                    Sign-up\r\n                  </button>\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport useUser from \"../../hooks/use-user\";\r\nimport { isUserFollowingProfile, toggleFollow } from \"../../services/firebase\";\r\nimport plusSign from \"../../assets/plus-sign.png\";\r\nimport { deleteProfile } from \"../../services/firebase\";\r\nimport * as ROUTES from \"../../constants/routes\";\r\n\r\nexport default function ProfileHeader({\r\n  photosCount,\r\n  followerCount,\r\n  setFollowerCount,\r\n  handleShowFollowers,\r\n  handleShowFollowing,\r\n  handleShowPhotos,\r\n  profile: {\r\n    avatar,\r\n    docId: profileDocId,\r\n    userId: profileUserId,\r\n    fullName,\r\n    following = [],\r\n    followers = [],\r\n    username: profileUsername,\r\n  },\r\n}) {\r\n  const { userInfo } = useUser();\r\n  const history = useHistory();\r\n  const [isFollowingProfile, setIsFollowingProfile] = useState(null);\r\n  const [deletePostButton, setDeletePostButton] = useState(false);\r\n  const activeBtnFollow =\r\n    userInfo?.username && userInfo?.username !== profileUsername;\r\n\r\n  const loggedInUsersProfile = userInfo?.username === profileUsername;\r\n\r\n  const handleToggleFollow = async () => {\r\n    setIsFollowingProfile((isFollowingProfile) => !isFollowingProfile);\r\n    setFollowerCount({\r\n      followerCount: isFollowingProfile ? followerCount - 1 : followerCount + 1,\r\n    });\r\n\r\n    await toggleFollow(\r\n      isFollowingProfile,\r\n      userInfo.docId,\r\n      profileDocId,\r\n      profileUserId,\r\n      userInfo.userId\r\n    );\r\n  };\r\n\r\n  const handleX = () => {\r\n    setDeletePostButton(!deletePostButton);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    deleteProfile(userInfo);\r\n    setTimeout(function () {\r\n      history.push(\"/login\");\r\n    }, 500);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const isLoggedInUserFollowingProfile = async () => {\r\n      const isFollowing = await isUserFollowingProfile(\r\n        userInfo.username,\r\n        profileUserId\r\n      );\r\n      setIsFollowingProfile(!!isFollowing);\r\n    };\r\n\r\n    if (userInfo?.username && profileUserId) {\r\n      isLoggedInUserFollowingProfile();\r\n    }\r\n  }, [userInfo.username, profileUserId]);\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-3 gap-4 justify-between mx-auto max-w-screen-lg mt-6 pb-6 border-b border-gray-primary \">\r\n      {/* delete profile */}\r\n      <div className=\"flex\" style={{ position: \"absolute\", left: \"82%\" }}>\r\n        {loggedInUsersProfile &&\r\n          userInfo.userId !==\r\n            \"i6isWMwVjqaouBIqqSERS7jCnyN2\" /* test account cant be deleted */ && (\r\n            <div\r\n              title={deletePostButton ? \"cancel delete\" : \"delete your profile\"}\r\n              onClick={handleX}\r\n            >\r\n              <p\r\n                className={`font-bold text-4xl hover:text-red-primary mb-2 cursor-pointer duration-150 ${\r\n                  deletePostButton\r\n                    ? `hover:text-green-primary`\r\n                    : `hover:text-red-primary`\r\n                }`}\r\n              >\r\n                Ã—\r\n              </p>\r\n            </div>\r\n          )}\r\n        {deletePostButton && (\r\n          <button\r\n            onClick={handleDelete}\r\n            className=\"hover:bg-red-primary hover:text-white font-bold h-12 px-2 py-1 rounded ml-6 duration-150\"\r\n            title=\"confirm delete\"\r\n          >\r\n            delete?\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div className=\"container flex justify-center relative group h-28 w-28 lg:h-40 lg:w-40 m-auto ml-3 lg:ml-0\">\r\n        <img\r\n          src={avatar}\r\n          className=\"rounded-full h-28 w-28 lg:h-40 lg:w-40 flex object-cover\"\r\n          alt={`${profileUsername} avi`}\r\n        />\r\n        {/* if logged in user is on their own profile and hovers over their avi, add the ability to change avi */}\r\n        {loggedInUsersProfile && (\r\n          <Link\r\n            to={{\r\n              pathname: `${ROUTES.UPLOAD_POST}`,\r\n              state: { type: \"avatar\" },\r\n            }}\r\n            aria-label=\"upload post\"\r\n            className=\"absolute justify-center\"\r\n          >\r\n            <div className=\" bottom-0 bg-gray-200 z-10 justify-evenly items-center h-28 w-28 lg:h-40 lg:w-40 bg-black-faded group-hover:flex hidden rounded-full\">\r\n              <img\r\n                src={plusSign}\r\n                alt=\"plus\"\r\n                className=\"flex items-center h-16 w-16 lg:h-20 lg:w-20 opacity-60 cursor-pointer\"\r\n              />\r\n            </div>\r\n          </Link>\r\n        )}\r\n      </div>\r\n      <div className=\"flex items-center justify-center flex-col col-span-2\">\r\n        <div className=\"container flex items-center\">\r\n          <p className=\"text-2xl mr-4\">{profileUsername}</p>\r\n          {activeBtnFollow && (\r\n            <button\r\n              className=\"bg-blue-primary font-bold text-sm rounded text-white w-20 h-8\"\r\n              type=\"button\"\r\n              onClick={handleToggleFollow}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                  handleToggleFollow();\r\n                }\r\n              }}\r\n            >\r\n              {isFollowingProfile ? \"Unfollow\" : \"Follow\"}\r\n            </button>\r\n          )}\r\n        </div>\r\n        <div className=\"container flex mt-2 lg:mt-4\">\r\n          {followers === undefined || following === undefined ? (\r\n            <Skeleton count={1} width={677} height={24} />\r\n          ) : (\r\n            <>\r\n              <p\r\n                className=\"mr-5 lg:mr-10 cursor-pointer flex flex-col items-center lg:block text-sm lg:text-base text-gray-base lg:text-black-base leading-3\"\r\n                onClick={handleShowPhotos}\r\n              >\r\n                <span className=\"font-bold text-black-base text-base\">\r\n                  {photosCount}\r\n                </span>\r\n                {` `} {photosCount === 1 ? `photo` : `photos`}\r\n              </p>\r\n              <p\r\n                className=\"mr-5 lg:mr-10 cursor-pointer flex flex-col items-center lg:block text-sm lg:text-base text-gray-base lg:text-black-base leading-3\"\r\n                onClick={handleShowFollowers}\r\n              >\r\n                <span className=\"font-bold text-black-base text-base\">\r\n                  {followerCount}\r\n                </span>\r\n                {` `} {followerCount === 1 ? `follower` : `followers`}\r\n              </p>\r\n              <p\r\n                className=\"cursor-pointer flex flex-col items-center lg:block text-sm lg:text-base text-gray-base lg:text-black-base leading-3\"\r\n                onClick={handleShowFollowing}\r\n              >\r\n                <span className=\"font-bold text-black-base text-base \">\r\n                  {following.length}\r\n                </span>{\" \"}\r\n                following\r\n              </p>\r\n            </>\r\n          )}\r\n        </div>\r\n        <div className=\"container mt-3 lg:mt-4\">\r\n          <p className=\"text-sm lg:text-base font-medium\">\r\n            {!fullName ? <Skeleton count={1} height={24} /> : fullName}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nProfileHeader.propTypes = {\r\n  photosCount: PropTypes.number.isRequired,\r\n  followerCount: PropTypes.number.isRequired,\r\n  setFollowerCount: PropTypes.func.isRequired,\r\n  profile: PropTypes.shape({\r\n    docId: PropTypes.string,\r\n    userId: PropTypes.string,\r\n    following: PropTypes.array,\r\n    followers: PropTypes.array,\r\n    fullName: PropTypes.string,\r\n    username: PropTypes.string,\r\n  }).isRequired,\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAADWCAYAAACt43wuAAAACXBIWXMAAC4jAAAuIwF4pT92AAAGWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIxLTA3LTA1VDExOjI0OjQxLTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMS0wNy0wNVQxMTozOTowNS0wNDowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyMS0wNy0wNVQxMTozOTowNS0wNDowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNGFkMDdhYS1jYzBiLTM5NDItYjAzYy1hMTFmODFjN2ZkYTUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyNWNiZTk3ZC1hODIxLTViNGItYWExOC03NzBiYmYyZGU1NmYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYmIxZmUyZi1lNWFhLThlNDMtYjRlNi01OTI0MWNlNDVjZDMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmFiYjFmZTJmLWU1YWEtOGU0My1iNGU2LTU5MjQxY2U0NWNkMyIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0wNVQxMToyNDo0MS0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjb252ZXJ0ZWQiIHN0RXZ0OnBhcmFtZXRlcnM9ImZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmciLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0YWQwN2FhLWNjMGItMzk0Mi1iMDNjLWExMWY4MWM3ZmRhNSIgc3RFdnQ6d2hlbj0iMjAyMS0wNy0wNVQxMTozOTowNS0wNDowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqD0V30AAAqISURBVHic7d3tcdvGGobhW2fyP3AHVAd0BaIriFxBqAoiVWC7AskViK7ASgWhKzA7EDswUoHOj6WOlROLInb3xYd5XzMezZDE7isLD3exBIGTh4cHJNX1n6ELkH5GBksKYLCkAAZLCmCw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\"","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Photos({ photos }) {\r\n  return (\r\n    <div className=\"h-16 pt-4\">\r\n      <div className=\"grid grid-cols-3 gap-1 lg:gap-8 mt-0 lg:mt-4 mb-12\">\r\n        {!photos ? (\r\n          <>\r\n            <Skeleton count={12} width={320} height={400} />\r\n          </>\r\n        ) : photos.length > 0 ? (\r\n          photos.map((photo) => (\r\n            <div key={photo.docId}>\r\n              <Link to={`/post/${photo.docId}`}>\r\n                <div className=\"relative group\">\r\n                  <img src={photo.imageSrc} alt={photo.caption} />\r\n\r\n                  <div className=\"absolute bottom-0 left-0 bg-gray-200 z-10 w-full justify-evenly items-center h-full bg-black-faded group-hover:flex hidden\">\r\n                    <p className=\"flex items-center text-white font-bold\">\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        viewBox=\"0 0 20 20\"\r\n                        fill=\"currentColor\"\r\n                        className=\"w-8 mr-4\"\r\n                      >\r\n                        <path\r\n                          fillRule=\"evenodd\"\r\n                          d=\"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z\"\r\n                          clipRule=\"evenodd\"\r\n                        />\r\n                      </svg>\r\n                      {photo.likes.length}\r\n                    </p>\r\n                    <p className=\"flex items-center text-white font-bold\">\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        viewBox=\"0 0 20 20\"\r\n                        fill=\"currentColor\"\r\n                        className=\"w-8 mr-4\"\r\n                      >\r\n                        <path\r\n                          fillRule=\"evenodd\"\r\n                          d=\"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z\"\r\n                          clipRule=\"evenodd\"\r\n                        />\r\n                      </svg>\r\n                      {photo.comments.length}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            </div>\r\n          ))\r\n        ) : null}\r\n      </div>\r\n      {!photos ||\r\n        (photos.length === 0 && (\r\n          <p className=\"text-center text-2xl\">No Posts Yet</p>\r\n        ))}\r\n      <br />\r\n      <br />\r\n    </div>\r\n  );\r\n}\r\n\r\nPhotos.propTypes = {\r\n  photos: PropTypes.array,\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Followers({ follows, title }) {\r\n  return (\r\n    <div className=\"flex flex-col justify-center m-auto items-center\">\r\n      <p className=\"text-center text-2xl m-3\">{title}</p>\r\n      {!follows ? (\r\n        <>\r\n          <div className=\"flex items-center justify-start w-64\">\r\n            <Skeleton count={12} width={256} height={64} className=\"m-1\" />\r\n          </div>\r\n        </>\r\n      ) : follows.length > 0 ? (\r\n        follows.map((user) => (\r\n          <div key={user.userId}>\r\n            <Link to={`/p/${user.username}`}>\r\n              <div className=\"flex items-center justify-start w-64 hover:bg-gray-primary bg-gray-light p-2 m-1 rounded\">\r\n                <img\r\n                  src={user.avatar}\r\n                  className=\"rounded-full h-12 w-12 flex mr-3 object-cover\"\r\n                  alt={`${user.username} avi`}\r\n                />\r\n                <div className=\"col-span-3\">\r\n                  <p className=\"text-sm font-bold\">{user.username}</p>\r\n                  <p className=\"text-sm text-gray-dark\">{user.fullName}</p>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        ))\r\n      ) : null}\r\n      {!follows ||\r\n        (follows.length === 0 && <p className=\"text-center text-2xl\">...</p>)}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useReducer, useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ProfileHeader from \"./ProfileHeader\";\r\nimport Photos from \"./Photos\";\r\nimport Follows from \"./Follows\";\r\nimport { getUserPhotosByUsername } from \"../../services/firebase\";\r\nimport useFollowing from \"../../hooks/use-following\";\r\nimport useFollowers from \"../../hooks/use-followers\";\r\n\r\nexport default function UserProfile({ user }) {\r\n  const reducer = (state, newState) => ({ ...state, ...newState });\r\n  const [showPhotos, setShowPhotos] = useState(true);\r\n  const [showFollowers, setShowFollowers] = useState(false);\r\n  const [showFollowing, setShowFollowing] = useState(false);\r\n  const { following } = useFollowing(user);\r\n  const { followers } = useFollowers(user);\r\n\r\n  const handleShowPhotos = () => {\r\n    setShowPhotos(true);\r\n    setShowFollowers(false);\r\n    setShowFollowing(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleShowPhotos();\r\n  }, [user]);\r\n\r\n  const handleShowFollowers = () => {\r\n    setShowPhotos(false);\r\n    setShowFollowers(true);\r\n    setShowFollowing(false);\r\n  };\r\n\r\n  const handleShowFollowing = () => {\r\n    setShowPhotos(false);\r\n    setShowFollowers(false);\r\n    setShowFollowing(true);\r\n  };\r\n\r\n  const initialState = {\r\n    profile: {},\r\n    photosCollection: null,\r\n    followerCount: 0,\r\n  };\r\n\r\n  const [{ profile, photosCollection, followerCount }, dispatch] = useReducer(\r\n    reducer,\r\n    initialState\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function getProfileInfoAndPhotos() {\r\n      const photos = await getUserPhotosByUsername(user.username);\r\n      let followersCount = 0;\r\n      if (user.followers === undefined) {\r\n      } else {\r\n        followersCount = user.followers.length;\r\n      }\r\n\r\n      dispatch({\r\n        profile: user,\r\n        photosCollection: photos.sort((a, b) => b.dateCreated - a.dateCreated),\r\n        followerCount: followersCount,\r\n      });\r\n    }\r\n\r\n    if (user.username) {\r\n      getProfileInfoAndPhotos();\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <ProfileHeader\r\n        photosCount={photosCollection ? photosCollection.length : 0}\r\n        profile={profile}\r\n        followerCount={followerCount}\r\n        setFollowerCount={dispatch}\r\n        handleShowFollowers={handleShowFollowers}\r\n        handleShowFollowing={handleShowFollowing}\r\n        handleShowPhotos={handleShowPhotos}\r\n      />\r\n      {showPhotos && <Photos photos={photosCollection} />}\r\n      {showFollowers && <Follows follows={followers} title={\"Followers\"} />}\r\n      {showFollowing && <Follows follows={following} title={\"Following\"} />}\r\n    </>\r\n  );\r\n}\r\n\r\nUserProfile.propTypes = {\r\n  user: PropTypes.shape({\r\n    dateCreated: PropTypes.number.isRequired,\r\n    emailAddress: PropTypes.string.isRequired,\r\n    followers: PropTypes.array.isRequired,\r\n    following: PropTypes.array.isRequired,\r\n    fullName: PropTypes.string.isRequired,\r\n    userId: PropTypes.string.isRequired,\r\n    username: PropTypes.string.isRequired,\r\n  }),\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { getUserByUserId, getFollowingOrFollowers } from \"../services/firebase\";\r\n\r\nexport default function useFollowing(user) {\r\n  const [following, setFollowing] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchFollowing() {\r\n      const [{ following }] = await getUserByUserId(user.userId);\r\n      let followingArray = [];\r\n\r\n      if (following.length > 0) {\r\n        followingArray = await getFollowingOrFollowers(following);\r\n      }\r\n\r\n      setFollowing(followingArray);\r\n    }\r\n\r\n    fetchFollowing();\r\n  }, [user]);\r\n\r\n  return { following };\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { getUserByUserId, getFollowingOrFollowers } from \"../services/firebase\";\r\n\r\nexport default function useFollowers(user) {\r\n  const [followers, setFollowers] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchFollowers() {\r\n      const [{ followers }] = await getUserByUserId(user.userId);\r\n      let followersArray = [];\r\n\r\n      if (followers === undefined) {\r\n        followersArray = [];\r\n      } else if (followers.length > 0) {\r\n        followersArray = await getFollowingOrFollowers(followers);\r\n      }\r\n\r\n      setFollowers(followersArray);\r\n    }\r\n\r\n    fetchFollowers();\r\n  }, [user]);\r\n\r\n  return { followers };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport { getUserByUsername } from \"../services/firebase\";\r\nimport * as ROUTES from \"../constants/routes\";\r\nimport Header from \"../components/Header\";\r\nimport UserProfile from \"../components/profile/UserProfile\";\r\n\r\nexport default function Profile() {\r\n  const { username } = useParams();\r\n  const [user, setUser] = useState(null);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    document.title = `${username} - Instagram`;\r\n    async function checkUserExists() {\r\n      const [doesUserExist] = await getUserByUsername(username);\r\n      if (doesUserExist.userId) {\r\n        setUser(doesUserExist);\r\n      } else {\r\n        history.push(ROUTES.NOT_FOUND);\r\n      }\r\n    }\r\n\r\n    checkUserExists();\r\n  }, [username, history]);\r\n\r\n  return user?.username ? (\r\n    <div className=\"bg-gray-background\">\r\n      <Header />\r\n      <div className=\"mx-auto max-w-screen-lg\">\r\n        <UserProfile user={user} />\r\n      </div>\r\n    </div>\r\n  ) : null;\r\n}\r\n"],"sourceRoot":""}